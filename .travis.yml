language: php
php:
  - "5.6"
  - "5.5"
  - "5.4"
  - "5.3"

services:
  - mongodb

before_install:
  - sudo apt-get update > /dev/null

install:
  # install php packages required for running YAWIK phpunit tests
  - sudo apt-get install -y --force-yes php5-mongo php5-intl php5-curl php5-openssl php5-xsl php5-mbstring
  - compser self-update

  # add composer's global bin directory to the path
  - export PATH="$HOME/.composer/vendor/bin:$PATH"

before_script: 
  - phpenv config-add .travis/phpenv.ini
  - ./install.sh -b .travis/build.properties.travis

script:
  - composer install
  - phpunit --configuration travis.phpunit.xml
